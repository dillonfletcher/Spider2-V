Documentation Source:
release-1-7-2.dagster.dagster-docs.io/integrations/dagstermill/using-notebooks-with-dagster.html

Documentation Title:
Using Jupyter notebooks with Papermill and Dagster Tutorial

Documentation Content:
If you execute these cells, several plots of the Iris dataset will be created:</p><img/><p>Next, we conduct our K-means analysis:</p><code>estimator <span>=</span>sklearn<span>.</span>cluster<span>.</span>KMeans<span>(</span>n_clusters<span>=</span><span>3</span><span>)</span>estimator<span>.</span>fit<span>(</span>iris<span>[</span><span>[</span><span>"Sepal length (cm)"</span><span>,</span><span>"Sepal width (cm)"</span><span>,</span><span>"Petal length (cm)"</span><span>,</span><span>"Petal width (cm)"</span><span>]</span><span>]</span><span>)</span></code><p>Lastly, we plot the results of the K-means analysis. From the plots, we can see that one species of Iris is separable from the other two, but a more sophisticated model will be required to distinguish the other two species:</p><img/><p>Like many notebooks, this example does some fairly sophisticated work, including producing diagnostic plots and a statistical model. For now, this work is locked away in the <code>.ipynb</code>format, only reproducible using a complex Jupyter setup, and only programmatically accessible within the notebook context. We'll address this in the remainder of the tutorial.</p><h2>Step 2: Create a Dagster asset from the Jupyter Notebook<span>#</span></h2><p>By creating a Dagster asset from our notebook, we can integrate the notebook as part of our data platform. This enables us to make its contents more accessible to developers, stakeholders, and other assets in Dagster.</p><p>To create a Dagster asset from a Jupyter notebook, we can use the <code>define_dagstermill_asset</code>function.



Documentation Source:
release-1-7-2.dagster.dagster-docs.io/integrations/dagstermill/using-notebooks-with-dagster.html

Documentation Title:
Using Jupyter notebooks with Papermill and Dagster Tutorial

Documentation Content:
You now have working Jupyter and Dagster assets!</p><h2>Extra credit: Fetch a Dagster asset in a Jupyter notebook<span>#</span></h2><p>What if you want to do additional analysis of the Iris dataset and create a new notebook? How can you accomplish this without duplicating code or re-fetching data?</p><p>The answer is simple: use the <code>iris_dataset</code>Dagster asset!</p><p>In the Jupyter notebook, import the Dagster <code>Definitions</code>object and use the <code>Definitions.load_asset_value</code>function to load the data for the <code>iris_dataset</code>asset we created in <a>Step 5.1: Create the Iris dataset asset</a>:</p><code><span>from</span>tutorial_template <span>import</span>template_tutorial

iris <span>=</span>template_tutorial<span>.</span>load_asset_value<span>(</span><span>"iris_dataset"</span><span>)</span></code><p>Then, whenever you run the notebook using Jupyter, you'll be able to work with the <code>iris_dataset</code>asset:</p><code>jupyter notebook /path/to/new/notebook.ipynb
</code><p>Behind the scenes, when <code>load_asset_value</code>is called, Dagster fetches the value of <code>iris_dataset</code>that was most recently materialized and stored by an I/O manager.</p><p>To integrate the new notebook, follow the steps from <a>Step 5.3</a>to add the <code>parameters</code>tag to the cell that fetches the <code>iris_dataset</code>asset via <code>load_asset_value</code>.</p><h2>Conclusion<span>#</span></h2><p>Now we have successfully created an asset from a Jupyter notebook and integrated it with our Dagster project!



Documentation Source:
release-1-7-2.dagster.dagster-docs.io/integrations/dagstermill/using-notebooks-with-dagster.html

Documentation Title:
Using Jupyter notebooks with Papermill and Dagster Tutorial

Documentation Content:
uci.edu/ml/machine-learning-databases/iris/iris.data"</span><span>,</span>names<span>=</span><span>[</span><span>"Sepal length (cm)"</span><span>,</span><span>"Sepal width (cm)"</span><span>,</span><span>"Petal length (cm)"</span><span>,</span><span>"Petal width (cm)"</span><span>,</span><span>"Species"</span><span>,</span><span>]</span><span>,</span><span>)</span></code><p>If you're following along in the template tutorial, uncomment the code block under the <code>TODO 2</code>comment.</p><p>Let's go over what's happening in this code block:</p><ul><li>Using <code>@asset</code>, we create a standard Dagster asset. The name of the Python function (<code>iris_dataset</code>) is the name of the asset.</li><li>As with the <code>iris_kmeans_jupyter</code>asset, we set the <code>group_name</code>parameter to organize our assets in the UI.</li><li>The body of the Python function fetches the Iris dataset, renames the columns, and outputs a Pandas DataFrame.</li></ul><h3>Step 5.2: Provide the iris_dataset asset to the notebook asset<span>#</span></h3><p>Next, we need to tell Dagster that the <code>iris_datset</code>asset is input data for the <code>iris-kmeans</code>notebook.



Documentation Source:
release-1-7-2.dagster.dagster-docs.io/integrations/dagstermill/using-notebooks-with-dagster.html

Documentation Title:
Using Jupyter notebooks with Papermill and Dagster Tutorial

Documentation Content:
In this case, that's our <code>/notebooks/iris-kmeans.ipynb</code>file.</li><li><code>group_name</code>- This optional argument places the asset into a group named <code>template_tutorial</code>, which is helpful for organizating your assets in the UI.</li></ul><p>When materialized, the <code>iris_kmeans_jupyter</code>asset will execute the notebook (<code>/notebooks/iris-kmeans.ipynb</code>) and store the resulting <code>.ipynb</code>file in a persistent location.</p><h2>Step 3: Add a Dagster Definitions object and supply an I/O manager<span>#</span></h2><p>We want to execute our Dagster asset and save the resulting notebook to a persistent location. This is called materializing the asset and to do this, we need to add the asset to a Dagster <code>Definitions</code>object.</p><p>Additionally, we need to provide a <a>resource</a>to the notebook to tell Dagster how to store the resulting <code>.ipynb</code>file.



