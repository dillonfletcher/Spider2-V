Documentation Source:
docs.astronomer.io/learn/use-case-airflow-mlflow.html

Documentation Title:
Predict possum tail length using MLflow, Airflow, and linear regression | Astronomer Documentation

Documentation Content:
In this example, the model training DAG is scheduled to run as soon as the last task in the feature engineering DAG completes.</p><code><span><span>@dag</span><span>(</span></span><span><span>schedule</span><span>=</span><span>[</span><span>Dataset</span><span>(</span><span>"s3://"</span><span>+</span><span>DATA_BUCKET_NAME </span><span>+</span><span>"_"</span><span>+</span><span>FILE_PATH</span><span>)</span><span>]</span><span>,</span></span><span><span>start_date</span><span>=</span><span>datetime</span><span>(</span><span>2023</span><span>,</span><span>1</span><span>,</span><span>1</span><span>)</span><span>,</span></span><span><span>catchup</span><span>=</span><span>False</span><span>,</span></span><span>)</span></code><p>The <code>fetch_feature_df</code>task pulls the feature dataframe that was pushed to <a>XCom</a>in the previous DAG.</p><code><span>@task</span><span><span>def</span><span>fetch_feature_df</span><span>(</span><span>**</span><span>context</span><span>)</span><span>:</span></span><span>"Fetch the feature dataframe from the feature engineering DAG.



Documentation Source:
docs.astronomer.io/learn/use-case-airflow-mlflow.html

Documentation Title:
Predict possum tail length using MLflow, Airflow, and linear regression | Astronomer Documentation

Documentation Content:
This data was originally published by Lindenmayer et al. (1995) in the Australian Journal of Zoology and is commonly used to teach linear regression.</p><h3>Project overview<a>​</a></h3><p>This project consists of three DAGs which have dependency relationships through <a>Airflow datasets</a>.</p><img/><p>The <code>feature_eng</code>DAG prepares the MLflow experiment and builds prediction features from the possum data.</p><img/><p>The <code>train</code>DAG trains a RidgeCV model on the engineered features from <code>feature_eng</code>and then registers the model with MLflow using operators from the <a>MLflow Airflow provider</a>.</p><img/><p>The <code>predict</code>DAG uses the trained model from <code>train</code>to create predictions and plot them against the target values.</p><img/><p>Note that the model is trained on the whole dataset and predictions are made on the same data. In a real world scenario you'd want to split the data into a training, validation, and test set.</p><h3>Project code<a>​</a></h3><p>This use case shows many Airflow features and ways to interact with MLflow. The following sections will highlight a couple of relevant code snippets in each DAG and explain them in more detail.</p><h4>Feature engineering DAG<a>​</a></h4><p>The feature engineering DAG starts with a task that creates the necessary object storage buckets in the resource provided as <code>AWS_CONN_ID</code>using the <a>S3CreateBucketOperator</a>. By default, the project uses a local MinIO instance, which is created when starting the Astro project. If you want to use remote object storage, you can change the <code>AWS_CONN_ID</code>in the <code>.env</code>file and provide your AWS credentials credentials.



Documentation Source:
docs.astronomer.io/learn/use-case-airflow-mlflow.html

Documentation Title:
Predict possum tail length using MLflow, Airflow, and linear regression | Astronomer Documentation

Documentation Content:
When combined, Airflow and MLflow make a powerful platform for ML orchestration (MLOx).</p><p>This use case shows how to use MLflow with Airflow to engineer machine learning features, train a <a>scikit-learn Ridge linear regression model</a>, and create predictions based on the trained model.</p><div><div>info</div><p>For more detailed instructions on using MLflow with Airflow, see the <a>MLflow tutorial</a>.</p></div><img/><h2>Before you start<a>​</a></h2><p>Before trying this example, make sure you have:</p><ul><li>The <a>Astro CLI</a>.</li><li><a>Docker Desktop</a>.</li></ul><h2>Clone the project<a>​</a></h2><p>Clone the example project from the <a>Astronomer GitHub</a>. To keep your credentials secure when you deploy this project to your own git repository, make sure to create a file called <code>.env</code>with the contents of the <code>.env_example</code>file in the project root directory.</p><p>The repository is configured to spin up and use local MLflow and MinIO instances without you needing to define connections or access external tools.</p><h2>Run the project<a>​</a></h2><p>To run the example project, first make sure Docker Desktop is running.



Documentation Source:
docs.astronomer.io/learn/airflow-mlops.html

Documentation Title:
Best practices for orchestrating MLOps pipelines with Airflow | Astronomer Documentation

Documentation Content:
</li><li><a>Predict possum tail length using MLflow, Airflow, and linear regression</a>.</li><li><a>Use Airflow setup/ teardown to run data quality checks in an MLOps pipeline</a>.</li><li><a>Orchestrate machine learning pipelines with Airflow datasets</a>.</li></ul></li></ul><p>Astronomer wants to help you succeed with Airflow by continuously creating resources on how to use Airflow for MLOps. If you have any questions or suggestions for additional topics to cover, please contact us in the <code>#airflow-astronomer</code>channel in the <a>Apache Airflow Slack</a>.</p></div><div><h2>Was this page helpful?</h2><div><button>Yes</button><button>No</button></div></div><form><h2>Sign up for Developer Updates</h2><p>Get a summary of new Astro features once a month.</p><button>Submit</button><p>You can unsubscribe at any time.



