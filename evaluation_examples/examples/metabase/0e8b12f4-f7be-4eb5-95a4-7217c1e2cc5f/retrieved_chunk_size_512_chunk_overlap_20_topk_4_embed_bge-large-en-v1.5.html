Documentation Source:
www.metabase.com/docs/v0.49/questions/query-builder/introduction.html

Documentation Title:
Asking questions

Documentation Content:
49
</a><a>Questions</a></ol><article><h1>Asking questions</h1><p>Metabase’s two core concepts are questions and their corresponding answers. To ask a question in Metabase, click the <strong>+ New</strong>button in the upper right of the main navigation bar, and select either:</p><ul><li>Question</li><a>SQL query</a></ul><p>This page covers how to ask a question using Metabase’s graphical query builder, the “Question” option.</p><h2>Creating a new question with the query builder</h2><p>From the <strong>+ New</strong>dropdown, select <strong>Question</strong>, then pick your starting data:</p><p>You can start a question from:</p><ul><li><strong>A model</strong>. A <a>model</a>is a special kind of saved question meant to be used as a good starting point for questions. Sometimes these are called derived tables, as they usually pull together data from multiple raw tables.</li><li><strong>Raw data</strong>. You’ll need to specify the database and the table in that database as the starting point for your question.</li><li>A <strong>saved question</strong>. You can use the results of any question as the starting point for a new question.</li></ul><p>Note that there are some kinds of saved questions that can’t be used as source data:</p><ul><li>Druid questions</li><li>Mongo questions</li><li>Questions that use <code>Cumulative Sum</code>or <code>Cumulative Count</code>aggregations</li><li>Questions that have columns that are named the same or similar thing, like <code>Count</code>and <code>Count 2</code></li></ul><h2>The query builder</h2><p>Once you select your data, Metabase will take you to the query builder. Say you selected <strong>Raw data</strong>&gt; <strong>Sample database</strong>&gt; <strong>Orders</strong>, then you’ll see something like this:</p><img/><p>This is the query builder’s notebook editor.



Documentation Source:
www.metabase.com/docs/v0.49/questions/query-builder/introduction.html

Documentation Title:
Asking questions

Documentation Content:
You can also use parentheses to clarify the order of operations.</p><h2>Adding or removing columns in a table</h2><p>When viewing tables, you can click on the <strong>gear</strong>icon in the bottom left to bring up the columns picker. Click <strong>Add or remove columns</strong>to search for and pick columns, including columns from related tables.</p><img/><h2>Sorting results</h2><img/><p>The sorting step lets you pick one or more columns to sort your results by. For each column you pick, you can also choose whether to sort ascending or descending; just click the arrow to change from ascending (up arrow) to descending (down arrow).</p><h2>Setting a row limit</h2><p>The row limit step lets you limit how many rows you want from the previous results. When used in conjunction with sorting, this can let you do things like create a top-10 list, by first sorting by one of the columns in your result, then adding a row limit of 10. Unlike other steps, the row limit step can only be added at the end of your question.</p><h2>Viewing the SQL that powers your question</h2><p>Under the hood, all Metabase questions are SQL (gasp!). If you’re curious to see the SQL that will get run when you ask your question, you can click the little console icon in the top-right of the notebook editor. In the modal that opens up, you’ll also be given the option to start a new query in the SQL editor using this generated SQL as a starting point (assuming you have <a>SQL permissions</a>to that database). It’s a nice little shortcut to have Metabase write some boilerplate SQL for you, but then allows you to tweak and customize the query.</p><h2>Play around with saved questions</h2><p>Each time you start modifying a saved question, Metabase will create a new question for you. The query builder will display the name of your starting question under <strong>Data</strong>.</p><img/><p>Feel free to play around with any saved question, as you won’t have any effect on the existing question.



Documentation Source:
www.metabase.com/learn/getting-started/tour-of-metabase.html

Documentation Title:
A tour of Metabase

Documentation Content:
Plus, people who don’t know SQL can duplicate your question and use it as a starting point for another question.</p><img/><p>Query builder questions automatically get a drill-through menu applied to their visualizations, allowing people to click on a table or chart to <a>drill through the data</a>.</p><img/><p>Questions asked with the query builder can start with a <a>model</a>, a raw table, or with the results of a saved question, and you can convert them to native SQL at any time.</p><h4>Native queries</h4><p>Use the <strong>native query editor</strong>to compose questions in the database’s native query languages (typically SQL for relational databases, but also other query languages for data sources like MongoDB). For questions written in SQL, you can use variables in your code to create <a>SQL templates</a>, including <a>field filter</a>variables that can create smart dropdown filters.</p><img/><p>Like query builder questions, you can use the results of models or <a>saved questions</a>as starting points for new questions, just as you would a table or view. For example, to reference question 123 like so:</p><code><span>WITH</span><span>gizmo_orders</span><span>AS</span><span>#</span><span>{</span><span>123</span><span>}</span></code><h3>Create models to use as starting data for new questions</h3><p><a>Models</a>are built with questions from either the query builder or the SQL editor. You can use them to pull together data from multiple tables, with custom, calculated columns, and column descriptions and other metadata, to create great starting data for people to ask new questions. For example, you could build a model for “Active users”, or “Priority orders”, or however you want to model your business.</p><p>If you find that you’re using the same saved question over and over as your starting data for new questions, you may want to convert that saved question to a model, which will let you add metadata like column descriptions and column types.



Documentation Source:
www.metabase.com/docs/v0.49/questions/query-builder/introduction.html

Documentation Title:
Asking questions

Documentation Content:
To answer that example question of “How many people downloaded our app each day last week?”</p><ul><li>The metric would be the count of people who downloaded the app (the count of rows).</li><li>We want that metric to be grouped by “each day.”</li><li>And we want to filter the rows for “last week.”</li></ul><p>There are two common ways you’ll tend to summarize your data:</p><ul><li>Counting the number of rows in your table</li><li>Getting the sum or average of a numeric column</li></ul><p>And a lot of the time, you’ll then <strong>group</strong>that metric by:</p><ul><li>Time</li><li>Place</li><li>Category</li></ul><p>Adding a summarize step lets you choose how to aggregate the data from the previous step. You can pick one or more metrics, and optionally group those metrics by one or more dimensions (columns). When picking your metrics you can choose from basic functions like <code>sum</code>, <code>average</code>, and <code>count</code>; or you can pick a common metric defined by an admin; or you can create a <a>custom expression</a>by writing a formula.</p><p>Common metrics include:</p><ul><li><strong>Count of rows:</strong>the total of number of rows in the table, after any filters have been applied. If you’re looking at your <code>Orders</code>table and want to know how many orders were placed with a price greater than $40, you’d filter by “Price greater than 40,” and then select <code>Count of rows</code>, because you want Metabase to count how many orders matched your filter.</li><li><strong>Sum of …:</strong>the sum of all the values in a specific column.</li><li><strong>Average of …:</strong>the average of all the values in a single column.</li><li><strong>Number of distinct values of…:</strong>the number of unique values in all the cells of a single column.



