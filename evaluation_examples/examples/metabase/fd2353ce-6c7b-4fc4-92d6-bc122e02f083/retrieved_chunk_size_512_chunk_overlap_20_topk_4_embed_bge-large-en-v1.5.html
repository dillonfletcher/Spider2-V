Documentation Source:
www.metabase.com/learn/administration/metabase-api.html

Documentation Title:
Working with the Metabase API

Documentation Content:
To follow along, you can <a>spin up a fresh Metabase on localhost</a>and play around.</p><h2>Create an API key</h2><p>To use the API, create an <a>API key</a>.</p><h2>Example GET request</h2><p>Here’s an example API request that hits the <code>/api/permissions/group</code>endpoint, which returns the permission groups you have set up in your Metabase. Replace <code>YOUR_API_KEY</code>with your API key:</p><code>curl <span>\</span><span>-H</span><span>'x-api-key: YOUR_API_KEY'</span><span>\</span><span>-X</span>GET <span>'http://localhost:3000/api/permissions/group'</span></code><p>The above request returns an array of JSON objects for the groups in your Metabase (formatted for readability):</p><code><span>[</span><span>{</span><span>"id"</span><span>:</span><span>2</span><span>,</span><span>"name"</span><span>:</span><span>"Administrators"</span><span>,</span><span>"member_count"</span><span>:</span><span>2</span><span>},</span><span>{</span><span>"id"</span><span>:</span><span>1</span><span>,</span><span>"name"</span><span>:</span><span>"All Users"</span><span>,</span><span>"member_count"</span><span>:</span><span>3</span><span>}</span><span>]</span></code><h2>Example POST request</h2><p>You can also use a file to store the JSON payload for a POST request. This makes it easy to have a pre-defined set of requests you want to make to the API.</p><code>curl <span>-H</span>@header_file.txt <span>-d</span>@payload.json http://localhost/api/card
</code><p>Here’s the <code>header_file.



Documentation Source:
www.metabase.com/docs/v0.49/people-and-groups/api-keys.html

Documentation Title:
API keys

Documentation Content:
49
</a><a>People and Groups</a></ol><article><h1>API keys</h1><p>Metabase can create API keys to authenticate programmatic requests to the API. To set the permissions for an API key, you can assign the key to a <a>group</a>.</p><h2>Fair warning about Metabase’s API</h2><p>We don’t version the <a>Metabase API</a>. We rarely change API endpoints, and almost never remove them, but if you write code that relies on the API, there’s a chance you might have to update your code in the future.</p><p>That said, there are times when it’s nice to work with the API, like when managing permissions with a large number of people and groups, or bulk archiving, or content creation. So we added the ability to create API keys to authenticate your programmatic requests.</p><h2>Create an API key</h2><p>To create an API key:</p><ol><li>Click on the <strong>gear</strong>icon in the upper right.</li><li>Select <strong>Admin settings</strong>.</li><li>Go to the <strong>Settings</strong>tab.</li><li>Click on the <strong>Authentication</strong>tab on the left menu.</li><li>Scroll to <strong>API Keys</strong>and click <strong>Manage</strong>.</li><li>Click the <strong>Create API Key</strong>button.</li><li>Enter a <strong>Key name</strong>. You can have multiple API keys, so give it a name that will help you remember what you’re using the key for.</li><li>Select a <a>Group</a>. The key will have the same permissions granted to that group.</li><li>Click <strong>Create</strong>.</li><li>Copy the generated API key and save it somewhere safe. Metabase won’t be able to show you the key again.



Documentation Source:
www.metabase.com/docs/v0.49/api/api-key.html

Documentation Title:
API key

Documentation Content:
</p><code>DELETE /api/api-key/:id</code><p>Delete an ApiKey.</p><p>You must be a superuser to do this.</p><h3>PARAMS:</h3><li><code>id</code>value must be an integer greater than zero.</li><code>GET /api/api-key/</code><p>Get a list of API keys. Non-paginated.</p><p>You must be a superuser to do this.</p><code>GET /api/api-key/count</code><p>Get the count of API keys in the DB.</p><p>You must be a superuser to do this.</p><h3>PARAMS:</h3><code>_body</code><code>POST /api/api-key/</code><p>Create a new API key (and an associated <code>User</code>) with the provided name and group ID.</p><p>You must be a superuser to do this.</p><h3>PARAMS:</h3><ul><p><code>group_id</code>value must be an integer greater than zero.</p><p><code>name</code>value must be a non-blank string.</p><code>_body</code></ul><code>PUT /api/api-key/:id</code><p>Update an API key by changing its group and/or its name.</p><p>You must be a superuser to do this.</p><h3>PARAMS:</h3><ul><p><code>id</code>value must be an integer greater than zero.</p><p><code>group_id</code>nullable value must be an integer greater than zero.</p><p><code>name</code>nullable value must be a non-blank string.</p><code>_body</code></ul><code>PUT /api/api-key/:id/regenerate</code><p>Regenerate an API Key.</p><p>You must be a superuser to do this.</p><h3>PARAMS:</h3><li><code>id</code>value must be an integer greater than zero.</li><a>« Back to API index</a></article><p>Read docs for other <a>versions of Metabase</a>.



Documentation Source:
www.metabase.com/docs/v0.49/people-and-groups/api-keys.html

Documentation Title:
API keys

Documentation Content:
</span><span>METABASE_API_KEY</span><span>;</span><span>const</span><span>init</span><span>=</span><span>{</span><span>headers</span><span>:</span><span>{</span><span>"</span><span>Content-Type</span><span>"</span><span>:</span><span>"</span><span>application/json</span><span>"</span><span>,</span><span>"</span><span>X-API-KEY</span><span>"</span><span>:</span><span>API_KEY</span><span>,</span><span>},</span><span>};</span><span>const</span><span>host</span><span>=</span><span>"</span><span>http://127.0.0.1:3000</span><span>"</span><span>;</span><span>async</span><span>function</span><span>getGroups</span><span>()</span><span>{</span><span>const</span><span>response</span><span>=</span><span>await</span><span>fetch</span><span>(</span><span>`</span><span>${</span><span>host</span><span>}</span><span>/api/permissions/group`</span><span>,</span><span>init</span><span>);</span><span>return</span><span>response</span><span>.</span><span>json</span><span>();</span><span>}</span><span>getGroups</span><span>().</span><span>then</span><span>(</span><span>groups</span><span>=&gt;</span><span>console</span><span>.</span><span>log</span><span>(</span><span>"</span><span>Groups in your Metabase:</span><span>"</span><span>,</span><span>groups</span><span>));</span></code><h2>Further reading</h2><ul><li><a>Metabase API reference</a>.</li><li><a>Working with the Metabase API</a>.



